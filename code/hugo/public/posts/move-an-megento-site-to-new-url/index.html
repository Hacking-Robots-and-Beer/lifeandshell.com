<!DOCTYPE html>
<html lang="en-us">
<head>
  <link rel="preload" href="/lib/font-awesome/webfonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="/lib/font-awesome/webfonts/fa-regular-400.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="/lib/font-awesome/webfonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="/lib/JetBrainsMono/web/woff2/JetBrainsMono-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title> Move an Megento site to new url | Life and Shell</title>
  <link rel = 'canonical' href = 'https://lifeandshell.com/posts/move-an-megento-site-to-new-url/'>
  <meta name="description" content="  Mattias Hemmingsson: Welcome to my private site collecting blog post, Git updates and podcast episodes">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="robots" content="all,follow">
  <meta name="googlebot" content="index,follow,snippet,archive">



 <script async src="https://www.googletagmanager.com/gtag/js?id=G-3SYH00HY9X"></script>
 <script>
   window.dataLayer = window.dataLayer || [];
   function gtag(){dataLayer.push(arguments);}
   gtag('js', new Date());
   gtag('config', 'G-3SYH00HY9X');
 </script>


  <meta property="og:url" content="https://lifeandshell.com/posts/move-an-megento-site-to-new-url/">
  <meta property="og:site_name" content="Life and Shell">
  <meta property="og:title" content="Move an Megento site to new url">
  <meta property="og:description" content="So I hade to move en megent site from topunder.se to test.topunder.se this is so that you can test and try new stuff on a site that is not you primary site.
Moving magneto was some hazzel it not as easy as other site is take som sql to make it work.
 
 
 
First setup you webbserver (This is only the basic)  
&lt;VirtualHost *:80&gt;ServerAdmin webmaster@test.topunder.seServerName test.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2015-10-07T09:19:38+00:00">
    <meta property="article:modified_time" content="2015-10-07T09:19:38+00:00">
    <meta property="article:tag" content="Linux">

  
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Move an Megento site to new url">
  <meta name="twitter:description" content="So I hade to move en megent site from topunder.se to test.topunder.se this is so that you can test and try new stuff on a site that is not you primary site.
Moving magneto was some hazzel it not as easy as other site is take som sql to make it work.
 
 
 
First setup you webbserver (This is only the basic)  
&lt;VirtualHost *:80&gt;ServerAdmin webmaster@test.topunder.seServerName test.">

  
  
    
  
  
  <link rel="stylesheet" href="https://lifeandshell.com/css/styles.c05d68261bf086a9d7713c4f8a6215a3601608e267a816a7ee58f139b3d1aae51222aae2081c8e0c6bd35e1334773b7a16283022f31f92afd93bb37e5e822e66.css" integrity="sha512-wF1oJhvwhqnXcTxPimIVo2AWCOJnqBan7ljxObPRquUSIqriCByODGvTXhM0dzt6FigwIvMfkq/ZO7N&#43;XoIuZg=="> 

  
  
  
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  

  
<link rel="icon" type="image/png" href="https://lifeandshell.com/images/favicon.ico" />

  
  
  

</head>

<body class="max-width mx-auto px3 ltr">
  <div class="content index py4">

  <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;" aria-label="Top of Page"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
        <li><a href="/">Home</a></li>
         
        <li><a href="/posts/">Writings</a></li>
         
        <li><a href="/tags/">Tags</a></li>
         
        <li><a href="/git/">Git</a></li>
         
        <li><a href="/podcast/">Podcast</a></li>
         
        <li><a href="/about/">About</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li>
          <a class="icon" href=" https://lifeandshell.com/posts/foreman-provision-to-bare-and-libvirtd-centos7-foreman-libvirtd-kvm/" aria-label="Previous">
            <i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i>
          </a>
        </li>
        
        
        <li>
          <a class="icon" href="https://lifeandshell.com/posts/python-dos-protection-iptablesdos/" aria-label="Next">
            <i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i>
          </a>
        </li>
        
        <li>
          <a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" aria-label="Top of Page">
            <i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i>
          </a>
        </li>
        <li>
          <a class="icon" href="#" aria-label="Share">
            <i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i>
          </a>
        </li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      
      <ul>
  
  
    
  
  
  <li>
    <a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2flifeandshell.com%2fposts%2fmove-an-megento-site-to-new-url%2f" aria-label="Facebook">
      <i class="fab fa-facebook " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://twitter.com/share?url=https%3a%2f%2flifeandshell.com%2fposts%2fmove-an-megento-site-to-new-url%2f&text=Move%20an%20Megento%20site%20to%20new%20url" aria-label="Twitter">
      <i class="fab fa-twitter " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2flifeandshell.com%2fposts%2fmove-an-megento-site-to-new-url%2f&title=Move%20an%20Megento%20site%20to%20new%20url" aria-label="Linkedin">
      <i class="fab fa-linkedin " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2flifeandshell.com%2fposts%2fmove-an-megento-site-to-new-url%2f&is_video=false&description=Move%20an%20Megento%20site%20to%20new%20url" aria-label="Pinterest">
      <i class="fab fa-pinterest " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="mailto:?subject=Move%20an%20Megento%20site%20to%20new%20url&body=Check out this article: https%3a%2f%2flifeandshell.com%2fposts%2fmove-an-megento-site-to-new-url%2f" aria-label="Email">
      <i class="fas fa-envelope " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2flifeandshell.com%2fposts%2fmove-an-megento-site-to-new-url%2f&title=Move%20an%20Megento%20site%20to%20new%20url" aria-label="Pocket">
      <i class="fab fa-get-pocket " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2flifeandshell.com%2fposts%2fmove-an-megento-site-to-new-url%2f&title=Move%20an%20Megento%20site%20to%20new%20url" aria-label="reddit">
      <i class="fab fa-reddit " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.tumblr.com/share/link?url=https%3a%2f%2flifeandshell.com%2fposts%2fmove-an-megento-site-to-new-url%2f&name=Move%20an%20Megento%20site%20to%20new%20url&description=So%20I%20hade%20to%20move%20en%20megent%20site%20from%20topunder.se%20to%20test.topunder.se%20this%20is%20so%20that%20you%20can%20test%20and%20try%20new%20stuff%20on%20a%20site%20that%20is%20not%20you%20primary%20site.%0aMoving%20magneto%20was%20some%20hazzel%20it%20not%20as%20easy%20as%20other%20site%20is%20take%20som%20sql%20to%20make%20it%20work.%0a%26nbsp%3b%0a%26nbsp%3b%0a%26nbsp%3b%0aFirst%20setup%20you%20webbserver%20%28This%20is%20only%20the%20basic%29%20%26nbsp%3b%0a%26lt%3bVirtualHost%20%2a%3a80%26gt%3b%0dServerAdmin%20webmaster%40test.topunder.se%0dServerName%20test." aria-label="Tumblr">
      <i class="fab fa-tumblr " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2flifeandshell.com%2fposts%2fmove-an-megento-site-to-new-url%2f&t=Move%20an%20Megento%20site%20to%20new%20url" aria-label="Hacker News">
      <i class="fab fa-hacker-news " aria-hidden="true"></i>
    </a>
  </li>
</ul>

    </div>
    
    <div id="toc">
      
    </div>
    
  </span>
</div>


  <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
    <header>
      <h1 class="posttitle" itemprop="name headline">
        Move an Megento site to new url
      </h1>
      <div class="meta">
        
        <div class="postdate">
          
          <time datetime="2015-10-07 09:19:38 &#43;0000 UTC" itemprop="datePublished">2015-10-07</time>
          
        </div>
        
        
        <div class="article-read-time">
          <i class="far fa-clock"></i>
          
          1 minute read
        </div>
        
        
        <div class="article-category">
            <i class="fas fa-archive"></i>
            
            
            <a class="category-link" href="/categories/linux">Linux</a>
            
        </div>
        
        
        <div class="article-tag">
            <i class="fas fa-tag"></i>
            
            
            <a class="tag-link" href="/tags/linux" rel="tag">Linux</a>
            
        </div>
        
      </div>
    </header>

  
    
    <div class="content" itemprop="articleBody">
      <p>So I hade to move en megent site from topunder.se to test.topunder.se this is so that you can test and try new stuff on a site that is not you primary site.<br />
Moving magneto was some hazzel it not as easy as other site is take som sql to make it work.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<ol>
<li>
<h4>First setup you webbserver  (This is only the basic)</h4>
</li>
</ol>
<p>&nbsp;</p>
<pre>&lt;VirtualHost *:80&gt;
 ServerAdmin webmaster@test.topunder.se
 ServerName test.topunder.se
 ServerAlias test.topunder.se# Indexes + Directory Root.
 DirectoryIndex index.html
 DocumentRoot /var/www/test.topunder.se/# Logfiles
 ErrorLog /var/log/apache2/error.log
 CustomLog /var/log/apache2/access.log combined
&lt;/VirtualHost&gt;</pre>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h4>2. Setup you sql</h4>
<pre>CREATE database test_topunder_se;
<code>REATE USER 'top_test'@'localhost' IDENTIFIED BY 'top_test_pass';
</code><code>GRANT ALL PRIVILEGES ON test_topunder_se.* TO 'top_test'@'localhost';
flush privileges;</code></pre>
<p>&nbsp;</p>
<h4>3. Setup the copy of megento</h4>
<pre>cp -r topunder.se/ test.topunder.se</pre>
<p>&nbsp;</p>
<p>Change the database setting in the new copy of the site</p>
<pre>vi test.topunder.se/app/etc/local.xml</pre>
<pre>

 &lt;connection&gt;
 &lt;host&gt;&lt;![CDATA[localhost]]&gt;&lt;/host&gt;
 &lt;username&gt;&lt;![CDATA[test_top]]&gt;&lt;/username&gt;
 &lt;password&gt;&lt;![CDATA[test_top_pass]]&gt;&lt;/password&gt;
 &lt;dbname&gt;&lt;![CDATA[test_topunder_se]]&gt;&lt;/dbname&gt;
 &lt;initStatements&gt;&lt;![CDATA[SET NAMES utf8]]&gt;
 &lt;model&gt;&lt;![CDATA[mysql4]]&gt;
 &lt;type&gt;&lt;![CDATA[pdo_mysql]]&gt;&lt;/type&gt;
 &lt;pdoType&gt;&lt;![CDATA[]]&gt;&lt;/pdoType&gt;
 &lt;active&gt;1&lt;/active&gt;
 &lt;/connection&gt;</pre>
<p>&nbsp;</p>
<p>Now lets fill the database with some stuff. First we will dumpt the old and and make some change then reloadet inte the new database.</p>
<pre>mysqldump -u root -p topunder &gt; /topunder.sql    &lt;--- dump the live database
sed -i 's/topunder\.se/test\.topunder\.se/g' /topunder.sql   &lt;-- replace topunder.se with test.topunder.se ELSE SITE WILL NOT WORK
mysql -u root -p test_topunder_se &lt; /topunder.sql    &lt;--- insert the new data in the new database</pre>
<p>&nbsp;</p>
<p>Done Done !!</p>

    </div>
  </article>

  
  






  <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/posts/">Writings</a></li>
         
          <li><a href="/tags/">Tags</a></li>
         
          <li><a href="/git/">Git</a></li>
         
          <li><a href="/podcast/">Podcast</a></li>
         
          <li><a href="/about/">About</a></li>
        
      </ul>
    </div>

    
    <div id="toc-footer" style="display: none">
      
    </div>
    

    <div id="share-footer" style="display: none">
      
      <ul>
  
  
    
  
  
  <li>
    <a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2flifeandshell.com%2fposts%2fmove-an-megento-site-to-new-url%2f" aria-label="Facebook">
      <i class="fab fa-facebook fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://twitter.com/share?url=https%3a%2f%2flifeandshell.com%2fposts%2fmove-an-megento-site-to-new-url%2f&text=Move%20an%20Megento%20site%20to%20new%20url" aria-label="Twitter">
      <i class="fab fa-twitter fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2flifeandshell.com%2fposts%2fmove-an-megento-site-to-new-url%2f&title=Move%20an%20Megento%20site%20to%20new%20url" aria-label="Linkedin">
      <i class="fab fa-linkedin fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2flifeandshell.com%2fposts%2fmove-an-megento-site-to-new-url%2f&is_video=false&description=Move%20an%20Megento%20site%20to%20new%20url" aria-label="Pinterest">
      <i class="fab fa-pinterest fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="mailto:?subject=Move%20an%20Megento%20site%20to%20new%20url&body=Check out this article: https%3a%2f%2flifeandshell.com%2fposts%2fmove-an-megento-site-to-new-url%2f" aria-label="Email">
      <i class="fas fa-envelope fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2flifeandshell.com%2fposts%2fmove-an-megento-site-to-new-url%2f&title=Move%20an%20Megento%20site%20to%20new%20url" aria-label="Pocket">
      <i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2flifeandshell.com%2fposts%2fmove-an-megento-site-to-new-url%2f&title=Move%20an%20Megento%20site%20to%20new%20url" aria-label="reddit">
      <i class="fab fa-reddit fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.tumblr.com/share/link?url=https%3a%2f%2flifeandshell.com%2fposts%2fmove-an-megento-site-to-new-url%2f&name=Move%20an%20Megento%20site%20to%20new%20url&description=So%20I%20hade%20to%20move%20en%20megent%20site%20from%20topunder.se%20to%20test.topunder.se%20this%20is%20so%20that%20you%20can%20test%20and%20try%20new%20stuff%20on%20a%20site%20that%20is%20not%20you%20primary%20site.%0aMoving%20magneto%20was%20some%20hazzel%20it%20not%20as%20easy%20as%20other%20site%20is%20take%20som%20sql%20to%20make%20it%20work.%0a%26nbsp%3b%0a%26nbsp%3b%0a%26nbsp%3b%0aFirst%20setup%20you%20webbserver%20%28This%20is%20only%20the%20basic%29%20%26nbsp%3b%0a%26lt%3bVirtualHost%20%2a%3a80%26gt%3b%0dServerAdmin%20webmaster%40test.topunder.se%0dServerName%20test." aria-label="Tumblr">
      <i class="fab fa-tumblr fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2flifeandshell.com%2fposts%2fmove-an-megento-site-to-new-url%2f&t=Move%20an%20Megento%20site%20to%20new%20url" aria-label="Hacker News">
      <i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i>
    </a>
  </li>
</ul>

    </div>

    <div id="actions-footer">
      
        <a id="menu-toggle" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;" aria-label="Menu">
          <i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        
        <a id="toc-toggle" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;" aria-label="TOC">
          <i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        
        <a id="share-toggle" class="icon" href="#" onclick="$('#share-footer').toggle();return false;" aria-label="Share">
          <i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" aria-label="Top of Page">
          <i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>


  <footer id="footer">
  <div class="footer-left">
    Copyright  &copy; 2026  Mattias Hemmingssion <a href="mailto:mattias@lifeandshell.com">mattias@lifeandshell.com</a> 
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
        <li><a href="/">Home</a></li>
         
        <li><a href="/posts/">Writings</a></li>
         
        <li><a href="/tags/">Tags</a></li>
         
        <li><a href="/git/">Git</a></li>
         
        <li><a href="/podcast/">Podcast</a></li>
         
        <li><a href="/about/">About</a></li>
        
      </ul>
    </nav>
  </div>
</footer>


  </div>
</body>

<link rel="stylesheet" href=/lib/font-awesome/css/all.min.css>
<script src=/lib/jquery/jquery.min.js></script>
<script src=/js/main.js></script>

<script src=/js/code-copy.js></script>




</html>
